(this["webpackJsonpfirebase-budget"]=this["webpackJsonpfirebase-budget"]||[]).push([[0],{59:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(46),n=a.n(c),s=(a(59),a(60),a(61),a(33)),o=a(13),i=a(31),l=a(28),j=a(7);var u=function(){return Object(j.jsxs)("div",{className:"Home-Container",children:[Object(j.jsx)("div",{className:"Home-Title",children:"Welcome to the Budget App"}),Object(j.jsx)("div",{className:"Home-Subtitle",children:"Manage your budget with us"}),Object(j.jsx)("div",{className:"Home-Text",children:"Login to continue"}),Object(j.jsx)("div",{className:"Home-Login-Button",children:Object(j.jsx)(l.LinkContainer,{to:"/login",children:Object(j.jsx)(i.a,{color:"secondary",children:"Login"})})})]})},b=a(9),d=a(0),O=a(2),p=a(48),m=a(22),h=a(15),v=(Object(p.a)({apiKey:"AIzaSyAJrzoR3lqcLUdiU4OxLOuoAJvGrMN8lrI",authDomain:"fir-budget-3e406.firebaseapp.com",projectId:"fir-budget-3e406",storageBucket:"fir-budget-3e406.appspot.com",messagingSenderId:"537847221464",appId:"1:537847221464:web:089f77ce94d86bd2975bad"}),Object(m.g)()),f=Object(h.e)(),x=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(h.f)(Object(h.b)(f,"users"),Object(h.h)("uid","==",t.uid)),e.next=4,Object(h.d)(a);case 4:if(0!==e.sent.docs.length){e.next=8;break}return e.next=8,Object(h.a)(Object(h.b)(f,"users"),{uid:t.uid,name:t.displayName,authProvider:"google",email:t.email});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=new m.c,y=function(){var e=Object(O.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.m)(v,g);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t,a){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.k)(v,t,a);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t,a,r){var c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.f)(v,a,r);case 3:return c=e.sent,n=c.user,e.next=7,Object(h.a)(Object(h.b)(f,"users"),{uid:n.uid,name:t,authProvider:"local",email:a});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.j)(v,t);case 3:alert("Password reset email sent"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=a(30),S=a(76),B=a(77),L=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(b.a)(n,2),u=s[0],d=s[1],O=Object(N.a)(v),p=Object(b.a)(O,2),m=p[0],h=p[1],f=Object(o.C)();Object(r.useEffect)((function(){h||m&&f("/dashboard")}),[m,h,f]);var x=Object(r.useRef)(),g=Object(r.useState)(!1),k=Object(b.a)(g,2),w=k[0],L=k[1];return Object(j.jsx)("div",{className:"Login-Container",children:Object(j.jsx)(i.b,{children:Object(j.jsxs)(S.a,{noValidate:!0,validated:w,ref:x,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),C(a,u)),L(!0)},className:"Form-Contact",children:[Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:a,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicPassword",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"password",placeholder:"Password",name:"user_password",value:u,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid password."})]}),Object(j.jsx)(l.LinkContainer,{to:"/reset",children:Object(j.jsx)("a",{children:"Forgot password?"})}),Object(j.jsx)(B.a,{variant:"secondary",type:"submit",className:"Button-Login",children:"Login"}),Object(j.jsxs)("p",{children:["Not a member? ",Object(j.jsx)(l.LinkContainer,{to:"/register",children:Object(j.jsx)("a",{children:"Register"})})]}),Object(j.jsx)("p",{children:"or sign up with:"}),Object(j.jsx)(B.a,{onClick:y,className:"Button-Register",variant:"secondary",children:"Google"})]})})})};var P=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(b.a)(n,2),u=s[0],d=s[1],O=Object(r.useState)(""),p=Object(b.a)(O,2),m=p[0],h=p[1],f=Object(N.a)(v),x=Object(b.a)(f,3),g=x[0],C=x[1],w=(x[2],Object(o.C)());Object(r.useEffect)((function(){C||g&&w("/dashboard",{replace:!0})}),[g,C,w]);var L=Object(r.useRef)(),P=Object(r.useState)(!1),I=Object(b.a)(P,2),E=I[0],R=I[1];return Object(j.jsx)("div",{className:"Register-Container",children:Object(j.jsx)(i.b,{children:Object(j.jsxs)(S.a,{noValidate:!0,validated:E,ref:L,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),k(a,u,m)),R(!0)},className:"Form-Contact",children:[Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicName",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"name",placeholder:"Name",name:"user_name",value:a,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid name."})]}),Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:u,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicPassword",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"password",placeholder:"Password",name:"user_password",value:m,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid password."})]}),Object(j.jsx)(B.a,{variant:"secondary",type:"submit",className:"Button-Login",children:"Register"}),Object(j.jsxs)("p",{children:["Already have account? ",Object(j.jsx)(l.LinkContainer,{to:"/login",children:Object(j.jsx)("a",{children:"Login"})})]}),Object(j.jsx)("p",{children:"or sign up with:"}),Object(j.jsx)(B.a,{onClick:y,className:"Button-Login",variant:"secondary",children:"Google"})]})})})},I=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t,a){var r,c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(h.f)(Object(h.b)(f,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=4,Object(h.d)(r);case 4:c=e.sent,n=c.docs[0].data(),a(n.name),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),a(t.displayName),console.error(e.t0),console.log("Error fetching user name");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(Object(d.a)().mark((function e(t,a){var r,c,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(h.f)(Object(h.b)(f,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=4,Object(h.d)(r);case 4:return c=e.sent,e.next=7,Object(h.d)(Object(h.b)(f,"users",c.docs[0].id,"budgets"));case 7:n=e.sent,s=n.docs.map((function(e){return e.data()})),a(s.map((function(e){return{name:e.name,amount:e.amount,budgetId:e.budgetId}}))),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),console.log("Error fetching budgets");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}();a(16),a(50);var R=function(){var e=Object(N.a)(v),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),s=Object(b.a)(n,2),i=s[0],l=s[1],u=Object(o.C)(),d=Object(r.useState)(""),O=Object(b.a)(d,2),p=(O[0],O[1],Object(r.useState)(0)),h=Object(b.a)(p,2),f=(h[0],h[1],Object(r.useState)(0)),g=Object(b.a)(f,2),y=(g[0],g[1],Object(r.useState)([])),C=Object(b.a)(y,2),k=(C[0],C[1]);return Object(r.useEffect)((function(){if(!c){if(!a)return u("/");x(a),I(a,l),E(a,k)}}),[a,c,u]),Object(j.jsxs)("div",{className:"Dashboard",children:[Object(j.jsxs)("div",{className:"Dashboard-Header",children:[i," ",Object(j.jsx)(B.a,{variant:"secondary",onClick:function(){Object(m.n)(v)},children:"Logout"})]}),Object(j.jsx)("div",{className:"Dashboard-Body",children:Object(j.jsxs)("div",{className:"Dashboard-AddBudget",children:[Object(j.jsx)(B.a,{variant:"success",children:"+"})," ",Object(j.jsx)("span",{children:"Add new Budget"})]})})]})};var D=function(e){var t=Object(r.useState)(""),a=Object(b.a)(t,2),c=a[0],n=a[1],s=Object(N.a)(v),u=Object(b.a)(s,3),d=u[0],O=u[1],p=(u[2],Object(o.C)());Object(r.useEffect)((function(){O||d&&p("/dashboard")}),[d,O]);var m=Object(r.useRef)(),h=Object(r.useState)(!1),f=Object(b.a)(h,2),x=f[0],g=f[1];return Object(j.jsx)("div",{className:"Login-Container",children:Object(j.jsx)(i.b,{children:Object(j.jsxs)(S.a,{noValidate:!0,validated:x,ref:m,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),w(c)),g(!0)},className:"Form-Contact",children:[Object(j.jsxs)(S.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(j.jsx)(S.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:c,onChange:function(e){return n(e.target.value)}}),Object(j.jsx)(S.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(j.jsx)(B.a,{variant:"secondary",type:"submit",className:"Button-Register",children:"Send password reset email"}),Object(j.jsxs)("p",{children:["Not a member? ",Object(j.jsx)(l.LinkContainer,{to:"/register",children:Object(j.jsx)("a",{children:"Register"})})]})]})})})};var F=function(){return Object(j.jsx)(s.HashRouter,{children:Object(j.jsxs)(o.h,{children:[Object(j.jsx)(o.e,{path:"/",element:Object(j.jsx)(u,{})}),Object(j.jsx)(o.e,{path:"/login",element:Object(j.jsx)(L,{})}),Object(j.jsx)(o.e,{path:"/register",element:Object(j.jsx)(P,{})}),Object(j.jsx)(o.e,{path:"/dashboard",element:Object(j.jsx)(R,{})}),Object(j.jsx)(o.e,{path:"/reset",element:Object(j.jsx)(D,{})})]})})};n.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(F,{}))}},[[70,1,2]]]);
//# sourceMappingURL=main.d62de9d0.chunk.js.map