(this["webpackJsonpfirebase-budget"]=this["webpackJsonpfirebase-budget"]||[]).push([[0],{62:function(e,t,a){},64:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(48),c=a.n(r),s=(a(62),a(63),a(64),a(34)),o=a(13),i=a(27),u=a(30),d=a(6);var l=function(){return Object(d.jsxs)("div",{className:"Home-Container",children:[Object(d.jsx)("div",{className:"Home-Title",children:"Welcome to the Budget App"}),Object(d.jsx)("div",{className:"Home-Subtitle",children:"Manage your budget with us"}),Object(d.jsx)("div",{className:"Home-Text",children:"Login to continue"}),Object(d.jsx)("div",{className:"Home-Login-Button",children:Object(d.jsx)(u.LinkContainer,{to:"/login",children:Object(d.jsx)(i.a,{color:"secondary",children:"Login"})})})]})},b=a(9),j=a(0),O=a(2),m=a(50),p=a(22),h=a(15),v=(Object(m.a)({apiKey:"AIzaSyAJrzoR3lqcLUdiU4OxLOuoAJvGrMN8lrI",authDomain:"fir-budget-3e406.firebaseapp.com",projectId:"fir-budget-3e406",storageBucket:"fir-budget-3e406.appspot.com",messagingSenderId:"537847221464",appId:"1:537847221464:web:089f77ce94d86bd2975bad"}),Object(p.g)()),g=Object(h.e)(),f=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t){var a;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(h.f)(Object(h.b)(g,"users"),Object(h.h)("uid","==",t.uid)),e.next=4,Object(h.d)(a);case 4:if(0!==e.sent.docs.length){e.next=8;break}return e.next=8,Object(h.a)(Object(h.b)(g,"users"),{uid:t.uid,name:t.displayName,authProvider:"google",email:t.email});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=new p.c,C=function(){var e=Object(O.a)(Object(j.a)().mark((function e(){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.m)(v,x);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.k)(v,t,a);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a,n){var r,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.f)(v,a,n);case 3:return r=e.sent,c=r.user,e.next=7,Object(h.a)(Object(h.b)(g,"users"),{uid:c.uid,name:t,authProvider:"local",email:a});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.j)(v,t);case 3:alert("Password reset email sent"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=a(32),w=a(79),S=a(80),D=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),l=s[0],j=s[1],O=Object(N.a)(v),m=Object(b.a)(O,2),p=m[0],h=m[1],g=Object(o.C)();Object(n.useEffect)((function(){h||p&&g("/dashboard")}),[p,h,g]);var f=Object(n.useRef)(),x=Object(n.useState)(!1),y=Object(b.a)(x,2),B=y[0],D=y[1];return Object(d.jsx)("div",{className:"Login-Container",children:Object(d.jsx)(i.b,{children:Object(d.jsxs)(w.a,{noValidate:!0,validated:B,ref:f,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),k(a,l)),D(!0)},className:"Form-Contact",children:[Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:a,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicPassword",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"password",placeholder:"Password",name:"user_password",value:l,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid password."})]}),Object(d.jsx)(u.LinkContainer,{to:"/reset",children:Object(d.jsx)("a",{children:"Forgot password?"})}),Object(d.jsx)(S.a,{variant:"secondary",type:"submit",className:"Button-Login",children:"Login"}),Object(d.jsxs)("p",{children:["Not a member? ",Object(d.jsx)(u.LinkContainer,{to:"/register",children:Object(d.jsx)("a",{children:"Register"})})]}),Object(d.jsx)("p",{children:"or sign up with:"}),Object(d.jsx)(S.a,{onClick:C,className:"Button-Register",variant:"secondary",children:"Google"})]})})})};var L=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),l=s[0],j=s[1],O=Object(n.useState)(""),m=Object(b.a)(O,2),p=m[0],h=m[1],g=Object(N.a)(v),f=Object(b.a)(g,3),x=f[0],k=f[1],B=(f[2],Object(o.C)());Object(n.useEffect)((function(){k||x&&B("/dashboard",{replace:!0})}),[x,k,B]);var D=Object(n.useRef)(),L=Object(n.useState)(!1),A=Object(b.a)(L,2),P=A[0],F=A[1];return Object(d.jsx)("div",{className:"Register-Container",children:Object(d.jsx)(i.b,{children:Object(d.jsxs)(w.a,{noValidate:!0,validated:P,ref:D,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),y(a,l,p)),F(!0)},className:"Form-Contact",children:[Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicName",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"name",placeholder:"Name",name:"user_name",value:a,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid name."})]}),Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:l,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicPassword",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"password",placeholder:"Password",name:"user_password",value:p,onChange:function(e){return h(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid password."})]}),Object(d.jsx)(S.a,{variant:"secondary",type:"submit",className:"Button-Login",children:"Register"}),Object(d.jsxs)("p",{children:["Already have account? ",Object(d.jsx)(u.LinkContainer,{to:"/login",children:Object(d.jsx)("a",{children:"Login"})})]}),Object(d.jsx)("p",{children:"or sign up with:"}),Object(d.jsx)(S.a,{onClick:C,className:"Button-Login",variant:"secondary",children:"Google"})]})})})},A=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a){var n,r,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(h.f)(Object(h.b)(g,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=4,Object(h.d)(n);case 4:r=e.sent,c=r.docs[0].data(),a(c.name),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),a(t.displayName),console.error(e.t0),console.log("Error fetching user name");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a){var n,r,c,s;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(h.f)(Object(h.b)(g,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=4,Object(h.d)(n);case 4:return r=e.sent,e.next=7,Object(h.d)(Object(h.b)(g,"users",r.docs[0].id,"budgets"));case 7:c=e.sent,s=c.docs.map((function(e){return e.data()})),a(s.map((function(e){return{name:e.name,amount:e.amount,budgetId:e.budgetId}}))),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),console.log("Error fetching budgets");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),F=a(16),I=a(53),E=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a,n,r,c,s,o){var i,u,d,l;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!s),i=Object(h.f)(Object(h.b)(g,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=5,Object(h.d)(i);case 5:return u=e.sent,e.next=8,Object(h.d)(Object(h.b)(g,"users",u.docs[0].id,"budgets"));case 8:if(d=e.sent,l=d.docs.map((function(e){return e.data()})),l.map((function(e){return e.name})).includes(a)){e.next=17;break}return e.next=14,Object(h.a)(Object(h.b)(g,"users",u.docs[0].id,"budgets"),{uid:t.uid,budgetId:Object(I.uuid)(),name:a,amount:r});case 14:n([].concat(Object(F.a)(c),[{name:a,amount:r}])),e.next=18;break;case 17:alert("Budget name already exists");case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0),console.log("Error creating budget");case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,a,n,r,c,s,o){return e.apply(this,arguments)}}(),R=function(){var e=Object(O.a)(Object(j.a)().mark((function e(t,a,n,r,c,s){var o,i,u,d;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!c),o=Object(h.f)(Object(h.b)(g,"users"),Object(h.h)("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=5,Object(h.d)(o);case 5:return i=e.sent,e.next=8,Object(h.d)(Object(h.b)(g,"users",i.docs[0].id,"budgets"));case 8:return u=e.sent,d=u.docs.find((function(e){return e.data().name===a})),e.next=12,Object(h.c)(d.ref);case 12:return e.next=14,P(t,r);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),console.log("Error deleting budget");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a,n,r,c,s){return e.apply(this,arguments)}}(),q=a(52);var G=function(e){var t=e.user,a=e.addBudget,r=e.setAddBudget,c=e.budgets,s=e.setBudgets,o=e.setBudgetName,u=e.setBudgetAmount,l=e.budgetName,j=e.budgetAmount,O=Object(n.useState)(!1),m=Object(b.a)(O,2),p=m[0],h=m[1];return Object(d.jsx)("div",{className:"Dashboard-AddBudget-Form",children:Object(d.jsx)(i.b,{children:Object(d.jsxs)(w.a,{noValidate:!0,validated:p,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):E(t,l,s,j,c,a,r),h(!0)},className:"createBudgetForm",children:[Object(d.jsxs)(q.a,{controlId:"floatingBudget",label:"Budget Name",children:[Object(d.jsx)(w.a.Control,{type:"text",placeholder:"Budget",onChange:function(e){return o(e.target.value)},required:!0}),Object(d.jsx)(w.a.Control.Feedback,{children:"Looks good!"}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a name for your budget."})]}),Object(d.jsxs)(q.a,{controlId:"floatingAmount",label:"Amount",children:[Object(d.jsx)(w.a.Control,{type:"number",placeholder:"Amount",onChange:function(e){return u(e.target.valueAsNumber)},required:!0}),Object(d.jsx)(w.a.Control.Feedback,{children:"Looks good!"}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a amount."})]}),Object(d.jsx)(S.a,{variant:"success",type:"submit",className:"btn-submit",children:"Add Budget"}),Object(d.jsx)(S.a,{variant:"danger",onClick:function(){return r(!a)},className:"btn-cancel",children:"Cancel"})]})})})};var V=function(e){var t=e.user,a=e.delBudget,r=e.setDelBudget,c=e.budgets,s=e.setBudgets,o=Object(n.useState)(c[0].name),u=Object(b.a)(o,2),l=u[0],j=u[1];return Object(d.jsx)("div",{className:"Dashboard-DeleteBudget-Form",children:Object(d.jsx)(i.b,{children:Object(d.jsxs)(w.a,{onSubmit:function(){R(t,l,c,s,a,r)},className:"deleteBudgetForm",children:[Object(d.jsx)(w.a.Select,{"aria-label":"Default select example",value:l,onChange:function(e){return j(e.target.value)},children:c.map((function(e,t){return Object(d.jsx)("option",{id:e.budgetId,value:e.name,children:e.name},t)}))}),Object(d.jsx)(S.a,{variant:"success",type:"submit",className:"btn-delete",children:"Delete Budget"}),Object(d.jsx)(S.a,{variant:"danger",onClick:function(){return r(!a)},className:"btn-cancel",children:"Cancel"})]})})})};var H=function(){var e=Object(N.a)(v),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],u=s[1],l=Object(o.C)(),j=Object(n.useState)(""),O=Object(b.a)(j,2),m=O[0],h=O[1],g=Object(n.useState)(0),x=Object(b.a)(g,2),C=x[0],k=x[1],y=Object(n.useState)(0),B=Object(b.a)(y,2),w=B[0],D=B[1],L=Object(n.useState)(!1),F=Object(b.a)(L,2),I=F[0],R=F[1],q=Object(n.useState)(!1),H=Object(b.a)(q,2),T=H[0],_=H[1],J=Object(n.useState)([]),z=Object(b.a)(J,2),M=z[0],U=z[1];return Object(n.useEffect)((function(){if(!r){if(!a)return l("/");f(a),A(a,u),P(a,U)}}),[a,r,l]),Object(d.jsxs)("div",{className:"Dashboard",children:[Object(d.jsxs)("div",{className:"Dashboard-Header",children:[i," ",Object(d.jsx)(S.a,{variant:"secondary",onClick:function(){Object(p.n)(v)},children:"Logout"})]}),Object(d.jsxs)("div",{className:"Dashboard-Body",children:[I?Object(d.jsx)(G,{addBudget:I,setAddBudget:R,user:a,budgetName:m,setBudgetName:h,budgetAmount:C,setBudgetAmount:k,budgetChange:w,setBudgetChange:D,createBudget:E,setBudgets:U,budgets:M}):Object(d.jsxs)("div",{className:"Dashboard-AddBudget",children:[Object(d.jsx)(S.a,{variant:"success",onClick:function(){return R(!I)},children:"+"})," ",Object(d.jsx)("span",{children:"Add new Budget"})]}),0!==M.length&&[T?Object(d.jsx)(V,{delBudget:T,setDelBudget:_,user:a,budgets:M,setBudgets:U}):Object(d.jsxs)("div",{className:"Dashboard-DeleteBudget",children:[Object(d.jsx)(S.a,{variant:"danger",onClick:function(){return _(!T)},children:"-"})," ",Object(d.jsx)("span",{children:"Delete existing Budget"})]})]]})]})};var T=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(N.a)(v),l=Object(b.a)(s,3),j=l[0],O=l[1],m=(l[2],Object(o.C)());Object(n.useEffect)((function(){O||j&&m("/dashboard")}),[j,O]);var p=Object(n.useRef)(),h=Object(n.useState)(!1),g=Object(b.a)(h,2),f=g[0],x=g[1];return Object(d.jsx)("div",{className:"Login-Container",children:Object(d.jsx)(i.b,{children:Object(d.jsxs)(w.a,{noValidate:!0,validated:f,ref:p,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),B(r)),x(!0)},className:"Form-Contact",children:[Object(d.jsxs)(w.a.Group,{className:"form-content",controlId:"formBasicEmail",children:[Object(d.jsx)(w.a.Control,{required:!0,type:"email",placeholder:"Email",name:"user_email",value:r,onChange:function(e){return c(e.target.value)}}),Object(d.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a valid email."})]}),Object(d.jsx)(S.a,{variant:"secondary",type:"submit",className:"Button-Register",children:"Send password reset email"}),Object(d.jsxs)("p",{children:["Not a member? ",Object(d.jsx)(u.LinkContainer,{to:"/register",children:Object(d.jsx)("a",{children:"Register"})})]})]})})})};var _=function(){return Object(d.jsx)(s.HashRouter,{children:Object(d.jsxs)(o.h,{children:[Object(d.jsx)(o.e,{path:"/",element:Object(d.jsx)(l,{})}),Object(d.jsx)(o.e,{path:"/login",element:Object(d.jsx)(D,{})}),Object(d.jsx)(o.e,{path:"/register",element:Object(d.jsx)(L,{})}),Object(d.jsx)(o.e,{path:"/dashboard",element:Object(d.jsx)(H,{})}),Object(d.jsx)(o.e,{path:"/reset",element:Object(d.jsx)(T,{})})]})})};c.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(_,{}))}},[[72,1,2]]]);
//# sourceMappingURL=main.fe48e5fb.chunk.js.map